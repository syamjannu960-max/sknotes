{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/firebase-admin.ts"],"sourcesContent":["\nimport admin from 'firebase-admin';\nimport { App, getApp, getApps, initializeApp } from 'firebase-admin/app';\n\nfunction initializeAdminApp(): App {\n  if (getApps().length > 0) {\n    return getApp();\n  }\n\n  // Check if the service account credentials are provided as a JSON string\n  const serviceAccountJson = process.env.GOOGLE_APPLICATION_CREDENTIALS;\n  if (!serviceAccountJson) {\n    console.error(\n      'Firebase Admin SDK service account credentials are not set in the GOOGLE_APPLICATION_CREDENTIALS environment variable.'\n    );\n    throw new Error('Firebase Admin SDK service account credentials are not set.');\n  }\n\n  try {\n    const credentials = JSON.parse(serviceAccountJson);\n    return initializeApp({\n      credential: admin.credential.cert(credentials),\n    });\n  } catch (e: any) {\n    console.error('Failed to parse Firebase Admin SDK service account credentials.', e.message);\n    throw new Error('Firebase Admin SDK initialization failed due to malformed credentials.');\n  }\n}\n\nlet adminApp: App;\ntry {\n  adminApp = initializeAdminApp();\n} catch (e: any) {\n  console.error('CRITICAL: Firebase Admin SDK failed to initialize.', e.message);\n  // We throw here to prevent the app from running in a broken state.\n  throw e;\n}\n\nexport const adminDb = admin.firestore();\n"],"names":[],"mappings":";;;AACA;AACA;;;;;;;AAEA,SAAS;IACP,IAAI,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,IAAI,MAAM,GAAG,GAAG;QACxB,OAAO,CAAA,GAAA,gJAAA,CAAA,SAAM,AAAD;IACd;IAEA,yEAAyE;IACzE,MAAM,qBAAqB,QAAQ,GAAG,CAAC,8BAA8B;IACrE,IAAI,CAAC,oBAAoB;QACvB,QAAQ,KAAK,CACX;QAEF,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI;QACF,MAAM,cAAc,KAAK,KAAK,CAAC;QAC/B,OAAO,CAAA,GAAA,gJAAA,CAAA,gBAAa,AAAD,EAAE;YACnB,YAAY,2HAAA,CAAA,UAAK,CAAC,UAAU,CAAC,IAAI,CAAC;QACpC;IACF,EAAE,OAAO,GAAQ;QACf,QAAQ,KAAK,CAAC,mEAAmE,EAAE,OAAO;QAC1F,MAAM,IAAI,MAAM;IAClB;AACF;AAEA,IAAI;AACJ,IAAI;IACF,WAAW;AACb,EAAE,OAAO,GAAQ;IACf,QAAQ,KAAK,CAAC,sDAAsD,EAAE,OAAO;IAC7E,mEAAmE;IACnE,MAAM;AACR;AAEO,MAAM,UAAU,2HAAA,CAAA,UAAK,CAAC,SAAS","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/data.ts"],"sourcesContent":["'use server';\n\nimport { adminDb } from './firebase-admin';\nimport type { Course, Semester, Subject, Unit, CourseWithId, SemesterWithId, SubjectWithId, UnitWithId } from './types';\nimport * as admin from 'firebase-admin';\n\nconst coursesCollection = 'courses';\nconst semestersCollection = 'semesters';\nconst subjectsCollection = 'subjects';\nconst unitsCollection = 'units';\n\n\n// Data fetching functions\nexport async function getCourses(): Promise<CourseWithId[]> {\n    const snapshot = await adminDb.collection(coursesCollection).get();\n    return snapshot.docs.map(doc => ({ ...doc.data() as Course, id: doc.id }));\n}\n\nexport async function getCourseBySlug(slug: string): Promise<CourseWithId | undefined> {\n    const q = adminDb.collection(coursesCollection).where(\"slug\", \"==\", slug);\n    const snapshot = await q.get();\n    if (snapshot.empty) return undefined;\n    const doc = snapshot.docs[0];\n    return { ...doc.data() as Course, id: doc.id };\n}\n\nexport async function getCourseById(id: string): Promise<CourseWithId | undefined> {\n    const docRef = adminDb.collection(coursesCollection).doc(id);\n    const docSnap = await docRef.get();\n    if (!docSnap.exists) return undefined;\n    return { ...docSnap.data() as Course, id: docSnap.id };\n}\n\n\nexport async function getSemesters(): Promise<SemesterWithId[]> {\n    const snapshot = await adminDb.collection(semestersCollection).get();\n    return snapshot.docs.map(doc => ({ ...doc.data() as Semester, id: doc.id }));\n}\n\nexport async function getSemesterBySlug(slug: string): Promise<SemesterWithId | undefined> {\n    const q = adminDb.collection(semestersCollection).where(\"slug\", \"==\", slug);\n    const snapshot = await q.get();\n    if (snapshot.empty) return undefined;\n    const doc = snapshot.docs[0];\n    return { ...doc.data() as Semester, id: doc.id };\n}\n\nexport async function getSemesterById(id: string): Promise<SemesterWithId | undefined> {\n    const docRef = adminDb.collection(semestersCollection).doc(id);\n    const docSnap = await docRef.get();\n    if (!docSnap.exists) return undefined;\n    return { ...docSnap.data() as Semester, id: docSnap.id };\n}\n\n\nexport async function getSemestersForCourse(courseId: string): Promise<SemesterWithId[]> {\n  const q = adminDb.collection(subjectsCollection).where(\"courseId\", \"==\", courseId);\n  const snapshot = await q.get();\n  const semesterIds = [...new Set(snapshot.docs.map(doc => doc.data().semesterId))];\n  \n  if (semesterIds.length === 0) return [];\n\n  const semestersQuery = adminDb.collection(semestersCollection).where(admin.firestore.FieldPath.documentId(), 'in', semesterIds);\n  const semestersSnapshot = await semestersQuery.get();\n  return semestersSnapshot.docs.map(doc => ({ ...doc.data() as Semester, id: doc.id }));\n};\n\nexport async function getSubjectsForSemester(courseId: string, semesterId: string): Promise<SubjectWithId[]> {\n    const q = adminDb.collection(subjectsCollection).where(\"courseId\", \"==\", courseId).where(\"semesterId\", \"==\", semesterId);\n    const snapshot = await q.get();\n    return snapshot.docs.map(doc => ({ ...doc.data() as Subject, id: doc.id }));\n};\n\nexport async function getSubjects(): Promise<SubjectWithId[]> {\n    const snapshot = await adminDb.collection(subjectsCollection).get();\n    return snapshot.docs.map(doc => ({ ...doc.data() as Subject, id: doc.id }));\n}\n\nexport async function getSubjectBySlug(slug: string): Promise<SubjectWithId | undefined> {\n    const q = adminDb.collection(subjectsCollection).where(\"slug\", \"==\", slug);\n    const snapshot = await q.get();\n    if (snapshot.empty) return undefined;\n    const doc = snapshot.docs[0];\n    return { ...doc.data() as Subject, id: doc.id };\n};\n\nexport async function getSubjectById(id: string): Promise<SubjectWithId | undefined> {\n    const docRef = adminDb.collection(subjectsCollection).doc(id);\n    const docSnap = await docRef.get();\n    if (!docSnap.exists) return undefined;\n    return { ...docSnap.data() as Subject, id: docSnap.id };\n};\n\n\nexport async function getUnitsForSubject(subjectId: string): Promise<UnitWithId[]> {\n    const q = adminDb.collection(unitsCollection).where(\"subjectId\", \"==\", subjectId);\n    const snapshot = await q.get();\n    return snapshot.docs.map(doc => ({ ...doc.data() as Unit, id: doc.id }));\n};\n\nexport async function getUnits(): Promise<UnitWithId[]> {\n    const snapshot = await adminDb.collection(unitsCollection).get();\n    return snapshot.docs.map(doc => ({ ...doc.data() as Unit, id: doc.id }));\n};\n\nexport async function getUnitBySlug(slug:string, subjectId:string): Promise<UnitWithId | undefined> {\n    const q = adminDb.collection(unitsCollection).where(\"slug\", \"==\", slug).where(\"subjectId\", \"==\", subjectId);\n    const snapshot = await q.get();\n    if (snapshot.empty) return undefined;\n    const doc = snapshot.docs[0];\n    return { ...doc.data() as Unit, id: doc.id };\n};\nexport async function getUnitById(id: string): Promise<UnitWithId | undefined> {\n    const docRef = adminDb.collection(unitsCollection).doc(id);\n    const docSnap = await docRef.get();\n    if (!docSnap.exists) return undefined;\n    return { ...docSnap.data() as Unit, id: docSnap.id };\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/actions.ts"],"sourcesContent":["\n\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport { slugify } from \"./utils\";\nimport { CourseFormValues, SemesterFormValues, SubjectFormValues, UnitFormValues } from \"./schemas\";\nimport { adminDb } from \"./firebase-admin\";\n\nconst success = (data?: any) => ({ success: true, data });\nconst error = (message: string) => ({ success: false, error: message });\n\n// Course Actions\nexport async function addCourse(values: CourseFormValues) {\n    try {\n        if (!values.name) return error(\"Course name is required.\");\n        \n        const slug = slugify(values.name);\n        const newCourse = { \n            name: values.name, \n            slug: slug,\n            imageUrl: `https://picsum.photos/seed/${slug}/600/400` \n        };\n        const docRef = await adminDb.collection(\"courses\").add(newCourse);\n        \n        revalidatePath(\"/admin/courses\");\n        revalidatePath(\"/courses\");\n\n        return success({ ...newCourse, id: docRef.id });\n    } catch (e: any) {\n        console.error(\"addCourse action error:\", e.message);\n        return error(\"Failed to add course. \" + e.message);\n    }\n}\n\nexport async function updateCourse(id: string, values: CourseFormValues) {\n    try {\n        if (!id) return error(\"Course ID is required for an update.\");\n        if (!values.name) return error(\"Course name is required.\");\n\n        const courseRef = adminDb.collection(\"courses\").doc(id);\n        const newSlug = slugify(values.name);\n        const updatedCourse = { name: values.name, slug: newSlug };\n        \n        await courseRef.update(updatedCourse);\n        \n        revalidatePath(\"/admin/courses\");\n        revalidatePath(\"/courses\");\n        revalidatePath(`/courses/${newSlug}`);\n\n        return success(updatedCourse);\n    } catch (e: any) {\n        console.error(\"updateCourse action error:\", e.message);\n        return error(\"Failed to update course. \" + e.message);\n    }\n}\n\nexport async function deleteCourse(id: string) {\n    try {\n        if (!id) return error(\"Course ID is required for deletion.\");\n        await adminDb.collection(\"courses\").doc(id).delete();\n        revalidatePath(\"/admin/courses\");\n        revalidatePath(\"/courses\");\n        return success();\n    } catch (e: any) {\n        console.error(\"deleteCourse action error:\", e.message);\n        return error(\"Failed to delete course. \" + e.message);\n    }\n}\n\n// Semester Actions\nexport async function addSemester(values: SemesterFormValues) {\n    try {\n        if (!values.name) return error(\"Semester name is required.\");\n        const newSemester = { name: values.name, slug: slugify(values.name) };\n        await adminDb.collection(\"semesters\").add(newSemester);\n        revalidatePath(\"/admin/semesters\");\n        return success(newSemester);\n    } catch (e: any) {\n        console.error(\"addSemester action error:\", e.message);\n        return error(\"Failed to add semester. \" + e.message);\n    }\n}\n\nexport async function updateSemester(id: string, values: SemesterFormValues) {\n    try {\n        if (!id) return error(\"Semester ID is required for update.\");\n        if (!values.name) return error(\"Semester name is required.\");\n        const semesterRef = adminDb.collection(\"semesters\").doc(id);\n        const updatedSemester = { name: values.name, slug: slugify(values.name) };\n        await semesterRef.update(updatedSemester);\n        revalidatePath(\"/admin/semesters\");\n        return success(updatedSemester);\n    } catch (e: any) {\n        console.error(\"updateSemester action error:\", e.message);\n        return error(\"Failed to update semester. \" + e.message);\n    }\n}\n\nexport async function deleteSemester(id: string) {\n    try {\n        if (!id) return error(\"Semester ID is required for deletion.\");\n        await adminDb.collection(\"semesters\").doc(id).delete();\n        revalidatePath(\"/admin/semesters\");\n        return success();\n    } catch (e: any) {\n        console.error(\"deleteSemester action error:\", e.message);\n        return error(\"Failed to delete semester. \" + e.message);\n    }\n}\n\n// Subject Actions\nexport async function addSubject(values: SubjectFormValues) {\n    try {\n        const newSubject = { \n            ...values,\n            slug: slugify(values.title),\n        };\n        await adminDb.collection(\"subjects\").add(newSubject);\n        revalidatePath(\"/admin/subjects\");\n        return success(newSubject);\n    } catch (e: any) {\n        console.error(\"addSubject action error:\", e.message);\n        return error(\"Failed to add subject. \" + e.message);\n    }\n}\n\nexport async function updateSubject(id: string, values: SubjectFormValues) {\n    try {\n        if (!id) return error(\"Subject ID is required for update.\");\n        const subjectRef = adminDb.collection(\"subjects\").doc(id);\n        const { id: _, ...updateData } = values; // Exclude id from update data\n        const updatedSubject = { ...updateData, slug: slugify(values.title) };\n\n        await subjectRef.update(updatedSubject);\n        revalidatePath(\"/admin/subjects\");\n        return success(updatedSubject);\n    } catch (e: any) {\n        console.error(\"updateSubject action error:\", e.message);\n        return error(\"Failed to update subject. \" + e.message);\n    }\n}\n\nexport async function deleteSubject(id: string) {\n    try {\n        if (!id) return error(\"Subject ID is required for deletion.\");\n        await adminDb.collection(\"subjects\").doc(id).delete();\n        revalidatePath(\"/admin/subjects\");\n        return success();\n    } catch (e: any) {\n        console.error(\"deleteSubject action error:\", e.message);\n        return error(\"Failed to delete subject. \" + e.message);\n    }\n}\n\n// Unit Actions\nexport async function addUnit(values: UnitFormValues) {\n    try {\n        const newUnit = { \n            ...values,\n            slug: slugify(values.title),\n        };\n        await adminDb.collection(\"units\").add(newUnit);\n        revalidatePath(\"/admin/units\");\n        return success(newUnit);\n    } catch (e: any) {\n        console.error(\"addUnit action error:\", e.message);\n        return error(\"Failed to add unit. \" + e.message);\n    }\n}\n\nexport async function updateUnit(id: string, values: UnitFormValues) {\n    try {\n        if (!id) return error(\"Unit ID is required for update.\");\n        const unitRef = adminDb.collection(\"units\").doc(id);\n        const { id: _, ...updateData } = values;\n        const updatedUnit = { ...updateData, slug: slugify(values.title) };\n\n        await unitRef.update(updatedUnit);\n        revalidatePath(\"/admin/units\");\n        return success(updatedUnit);\n    } catch (e: any) {\n        console.error(\"updateUnit action error:\", e.message);\n        return error(\"Failed to update unit. \" + e.message);\n    }\n}\n\nexport async function deleteUnit(id: string) {\n    try {\n        if (!id) return error(\"Unit ID is required for deletion.\");\n        await adminDb.collection(\"units\").doc(id).delete();\n        revalidatePath(\"/admin/units\");\n        return success();\n    } catch (e: any) {\n        console.error(\"deleteUnit action error:\", e.message);\n        return error(\"Failed to delete unit. \" + e.message);\n    }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 531, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/admin/courses/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getCourses as '002d94ea346186b288994452558419087c6a342198'} from 'ACTIONS_MODULE0'\nexport {addCourse as '40d22acf6c44f9633eadc575eda839e3c133e11986'} from 'ACTIONS_MODULE1'\nexport {updateCourse as '6036f5c243be6fc6adc3a6f47fb502bf42d53ec960'} from 'ACTIONS_MODULE1'\nexport {deleteCourse as '40a2d49b631ffae968360ec5c5e6c381f9a1f81e4f'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 633, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/admin/courses/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/admin/courses/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/courses/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","debugId":null}},
    {"offset": {"line": 647, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/admin/courses/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/admin/courses/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/courses/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","debugId":null}},
    {"offset": {"line": 661, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}